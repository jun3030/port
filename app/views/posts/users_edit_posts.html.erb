<h1>記事編集</h1>

<%= form_with(model: @user, url: user_update_posts_path(@user, @post), method: :patch, local: true) do |f| %>
<%= f.fields_for :posts do |post| %>
  <table class="table table-bordered table-striped profile-table">
    
    <tr>
      <th class="users-posts-table">
        <%= post.label "記事の公開、非公開" %>
        <div>※公開する場合はチェックボックスにサインしてください</div>
      </th>
      <td>
        <span>公開する</span><%= post.check_box :public_article, class: "form-control" %>

      </td>
    <tr>
    
    
    <tr>
      <th class="users-posts-table"><%= post.label "記事タイトル" %></th>
      <td><%= post.text_field :title, class: "form-control" %></td>
    </tr>
    
    <tr>
      <th class="users-posts-table"><%= post.label "記事内容(必須)" %></th><br>
      <td><%= post.text_area :content, class: "form-control" %></td>
    </tr>
    
    <tr>
    <% if @post.from_mypage_data.present? %>
      <th class="users-posts-table"><%= post.label "インスタグラムから" %></th>
      <td><%= post.text_area :from_mypage_data, value: @from_mypage_data.from_mypage_data, readonly: true %></td>
    <% end %>
    </tr>
    
    <tr>
    <% if @post.posts_image.present? %>
      <th class="users-posts-table"><%= post.label "画像ファイル" %><div>※画像か動画、どちらかを選択してください。</div></th>
      <td><%= post.file_field :posts_image %></td>
    <% end %>
    </tr>
    
    <tr>
    <% if @post.video.present?  %>
      <th class="users-posts-table"><%= post.label "動画ファイル" %><div>※画像か動画、どちらかを選択してください。</div></th>
      <td><%= post.file_field :video %></td>
    <% end %>
    </tr>
    <tr>
      <th class="users-posts-table">活動地域(必須:複数可)</th>
      <td><% @area.each do |area| %>
      <%= area %><%= post.check_box :activity_area, {multiple: true}, area, nil %>
      <% end %></td>
    </tr>
    
    <tr>
      <th class="users-posts-table">募集楽器パート(必須:複数可)</th>
      <td><% @part.each do |part| %>
      <%= part %><%= post.check_box :recruitment_part, {multiple: true}, part, nil %>
      <% end %></td>
    <tr>
    <tr>
      <th class="users-posts-table">バンドジャンル(必須:複数可)</th>
      <td><% @ganre.each do |ganre| %>
      <%= ganre %><%= post.check_box :band_genre, {multiple: true}, ganre, nil %>
      <% end %></td>
    <tr>
    <tr>
      <th class="users-posts-table">活動曜日(任意)</th>
      <td><%= post.select :activity_day, ['指定なし', '平日', '土日', '土曜日', '日曜日'] %></td>
    <tr>
    <tr>
      <th class="users-posts-table">活動の方向性(任意)</th>
      <td><%= post.select :course_of_action,  ['指定なし', 'プロ思考', 'インディーズ', '趣味'] %></td>
    <tr>
    <tr>
      <th class="users-posts-table">募集する性別(任意)</th>
      <td><%= post.select :recruitment_gender,  ['指定なし', '男', '女'] %></td>
    <tr>
    <tr>
      <th class="users-posts-table">募集する年齢(任意)</th>
      <td><%= post.number_field :post_age %>~<%= post.number_field :recruitment_age %></td>
    <tr>
    <tr>
      <th class="users-posts-table">バンド音源(任意)</th>
      <td><%= post.text_field :demosound, class: "form-control" %></td>
    <tr>
    
  </table>
  <%= f.submit "投稿する" %>
<% end %>
<% end %> 